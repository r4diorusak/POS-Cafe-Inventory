<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>API Documentation - POS Cafe Inventory</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        h2 {
            color: #764ba2;
            margin-top: 30px;
        }
        .endpoint {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }
        .method {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
            color: white;
        }
        .get {
            background-color: #61affe;
        }
        .post {
            background-color: #49cc90;
        }
        .put {
            background-color: #fca130;
        }
        .delete {
            background-color: #f93e3e;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .example {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .example pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        table thead {
            background-color: #667eea;
            color: white;
        }
        table th, table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        table tr:hover {
            background-color: #f9f9f9;
        }
        .note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
        }
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>üìö API Documentation - POS Cafe Inventory</h1>
    
    <div class="note">
        <strong>Note:</strong> Saat ini, API endpoints belum sepenuhnya diimplementasikan. Dokumentasi ini menunjukkan struktur yang disarankan untuk future development.
    </div>

    <!-- AUTHENTICATION ENDPOINTS -->
    <h2>üîê Authentication Endpoints</h2>
    
    <div class="endpoint">
        <span class="method post">POST</span> <code>/api/auth/login</code>
        <h4>Deskripsi</h4>
        <p>Login user dan dapatkan session token</p>
        
        <h4>Request Body</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>username</td>
                    <td>string</td>
                    <td>Yes</td>
                    <td>Username user</td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>string</td>
                    <td>Yes</td>
                    <td>Password user (plain text)</td>
                </tr>
            </tbody>
        </table>
        
        <h4>Response (Success 200)</h4>
        <div class="example">
            <pre>{
    "status": "success",
    "message": "Login berhasil",
    "data": {
        "user_id": 1,
        "username": "admin",
        "level": "admin",
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    }
}</pre>
        </div>
    </div>

    <!-- PELANGGAN ENDPOINTS -->
    <h2>üë• Pelanggan Endpoints</h2>
    
    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/pelanggan</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan daftar semua pelanggan</p>
        
        <h4>Query Parameters</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>page</td>
                    <td>integer</td>
                    <td>1</td>
                    <td>Halaman hasil</td>
                </tr>
                <tr>
                    <td>limit</td>
                    <td>integer</td>
                    <td>10</td>
                    <td>Jumlah item per halaman</td>
                </tr>
                <tr>
                    <td>search</td>
                    <td>string</td>
                    <td>-</td>
                    <td>Cari berdasarkan nama</td>
                </tr>
            </tbody>
        </table>
        
        <h4>Response (Success 200)</h4>
        <div class="example">
            <pre>{
    "status": "success",
    "message": "Data pelanggan ditemukan",
    "data": [
        {
            "id_pelanggan": 1,
            "nama_lengkap": "John Doe",
            "alamat": "Jl. Sudirman No. 123",
            "no_telp": "08123456789"
        }
    ],
    "pagination": {
        "current_page": 1,
        "total_pages": 5,
        "total_items": 45
    }
}</pre>
        </div>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/pelanggan/{id}</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan detail pelanggan berdasarkan ID</p>
        
        <h4>URL Parameters</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id</td>
                    <td>integer</td>
                    <td>ID pelanggan (required)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="endpoint">
        <span class="method post">POST</span> <code>/api/pelanggan</code>
        <h4>Deskripsi</h4>
        <p>Buat pelanggan baru</p>
        
        <h4>Request Body</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Required</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>nama_lengkap</td>
                    <td>string</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>alamat</td>
                    <td>string</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>no_telp</td>
                    <td>string</td>
                    <td>No</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="endpoint">
        <span class="method put">PUT</span> <code>/api/pelanggan/{id}</code>
        <h4>Deskripsi</h4>
        <p>Update data pelanggan</p>
    </div>

    <div class="endpoint">
        <span class="method delete">DELETE</span> <code>/api/pelanggan/{id}</code>
        <h4>Deskripsi</h4>
        <p>Hapus pelanggan</p>
    </div>

    <!-- MENU ENDPOINTS -->
    <h2>üçΩÔ∏è Menu Endpoints</h2>
    
    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/menu</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan daftar semua menu</p>
        
        <h4>Query Parameters</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>kategori</td>
                    <td>integer</td>
                    <td>Filter berdasarkan kategori ID</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>string</td>
                    <td>Filter berdasarkan status (aktif/tidak aktif)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- INVOICE ENDPOINTS -->
    <h2>üí∞ Invoice Endpoints</h2>
    
    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/invoice</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan daftar invoice</p>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/invoice/today</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan invoice hari ini</p>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span> <code>/api/invoice/report</code>
        <h4>Deskripsi</h4>
        <p>Dapatkan laporan invoice dalam range tanggal</p>
        
        <h4>Query Parameters</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>start_date</td>
                    <td>date</td>
                    <td>Tanggal mulai (Y-m-d)</td>
                </tr>
                <tr>
                    <td>end_date</td>
                    <td>date</td>
                    <td>Tanggal akhir (Y-m-d)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="endpoint">
        <span class="method post">POST</span> <code>/api/invoice</code>
        <h4>Deskripsi</h4>
        <p>Buat invoice baru</p>
        
        <h4>Request Body</h4>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id_pelanggan</td>
                    <td>integer</td>
                    <td>ID pelanggan</td>
                </tr>
                <tr>
                    <td>id_meja</td>
                    <td>integer</td>
                    <td>ID meja</td>
                </tr>
                <tr>
                    <td>items</td>
                    <td>array</td>
                    <td>Array of menu items dengan quantity</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ERROR HANDLING -->
    <h2>‚ö†Ô∏è Error Handling</h2>
    
    <div class="endpoint">
        <h4>Error Response Format</h4>
        <div class="example">
            <pre>{
    "status": "error",
    "message": "Deskripsi error",
    "code": 400
}</pre>
        </div>
        
        <h4>HTTP Status Codes</h4>
        <table>
            <thead>
                <tr>
                    <th>Code</th>
                    <th>Meaning</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>200</td>
                    <td>OK - Request berhasil</td>
                </tr>
                <tr>
                    <td>201</td>
                    <td>Created - Resource berhasil dibuat</td>
                </tr>
                <tr>
                    <td>400</td>
                    <td>Bad Request - Request tidak valid</td>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Unauthorized - Autentikasi diperlukan</td>
                </tr>
                <tr>
                    <td>403</td>
                    <td>Forbidden - Tidak memiliki akses</td>
                </tr>
                <tr>
                    <td>404</td>
                    <td>Not Found - Resource tidak ditemukan</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td>Server Error - Error di server</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- AUTHENTICATION -->
    <h2>üîë Authentication</h2>
    
    <div class="note">
        <strong>Header yang diperlukan:</strong><br>
        Untuk setiap request (kecuali login), tambahkan header:<br>
        <code>Authorization: Bearer {token}</code>
    </div>

    <!-- EXAMPLE -->
    <h2>üìù Usage Examples</h2>
    
    <h3>JavaScript/Fetch</h3>
    <div class="example">
        <pre>// Login
const loginResponse = await fetch('/api/auth/login', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        username: 'admin',
        password: 'password123'
    })
});

const loginData = await loginResponse.json();
const token = loginData.data.token;

// Get all pelanggan
const response = await fetch('/api/pelanggan', {
    headers: {
        'Authorization': 'Bearer ' + token
    }
});

const data = await response.json();
console.log(data.data);</pre>
    </div>

    <h3>cURL</h3>
    <div class="example">
        <pre"># Login
curl -X POST http://localhost/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password123"}'

# Get pelanggan dengan token
curl -X GET http://localhost/api/pelanggan \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</pre>
    </div>

    <h3>Python</h3>
    <div class="example">
        <pre>import requests

# Login
login_response = requests.post('http://localhost/api/auth/login', json={
    'username': 'admin',
    'password': 'password123'
})

token = login_response.json()['data']['token']

# Get pelanggan
headers = {'Authorization': f'Bearer {token}'}
response = requests.get('http://localhost/api/pelanggan', headers=headers)
data = response.json()
print(data['data'])</pre>
    </div>

    <!-- RATE LIMITING -->
    <h2>‚è±Ô∏è Rate Limiting</h2>
    
    <div class="note">
        <strong>Limit:</strong> 100 requests per minute per IP address
        <br>
        <strong>Headers:</strong>
        <br>
        <code>X-RateLimit-Limit: 100</code>
        <br>
        <code>X-RateLimit-Remaining: 95</code>
        <br>
        <code>X-RateLimit-Reset: 1637000400</code>
    </div>

    <!-- VERSION -->
    <div style="text-align: center; margin-top: 50px; padding: 20px; background-color: white; border-radius: 5px;">
        <p><strong>API Version:</strong> 1.0</p>
        <p><strong>Last Updated:</strong> November 16, 2025</p>
        <p><strong>Status:</strong> Development / Planning Phase</p>
    </div>
</body>
</html>
